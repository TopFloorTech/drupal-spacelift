{#
# Available variables:
# - card__base_class - base classname of the wrapper.
# - card__modifiers - array of modifiers to add to the base classname of the wrapper.
# - card__blockname - blockname prepended to the base classname of the wrapper(s) and each component.
#
# - card_image__src - the actual image file location.
# - card_image__alt - (optional) the alt text for screen readers and when the image cannot load.
# - card_image__output_image_tag - whether to print the picture element or not.
#
# - card_content__base_class - base classname of the copy wrapper - defaults to 'heading'.
# - card_content__modifiers - array of modifiers to add to the base classname of the copy wrapper.
# - card_content__blockname - blockname prepended to the base classname of the copy wrapper.
#
# - card_heading - the content of the title component.
# - card_heading__link - (optional) the url the title should link to. Defaults to card__link__url.
# - card_heading__base_class - base classname of the title component. Defaults to "title".
# - card_heading__blockname - blockname to add to the base classname of the title - defaults to card__base_class.
# - card_heading__modifiers - array of modifiers to add to the base classname of the title.
# - card_heading__link_base_class - base class to add to the title link - defaults to 'title-link'.
#
# - card_subheading - the content of the subtitle component.
# - card_subheading__link - (optional) the url the subtitle should link to.
# - card_subheading__base_class - base classname of the subtitle component. Defaults to "subtitle".
# - card_subheading__modifiers - array of modifiers to add to the base classname of the subtitle.
#
# - card_body - the content of the body component.
# - card_body__base_class - base classname of the body component. Defaults to "body".
# - card_body__modifiers - array of modifiers to add to the base classname of the body.
#
# - card_link__text - the content of the link component.
# - card_link__url - the url the link should link to.
# - card_link__base_class - base classname of the link component. Defaults to "link".
# - card_link__blockname - override link blockname. Defaults to card__base_class.
# - card_link__attributes - array of attribute,value pairs for the link attribute.
# - card_link__modifiers - array of modifiers to add to the base classname of the link.
#
# - card_button__content - the content of the button component.
# - card_button__url - the url the button should link to.
# - card_button__base_class - base classname of the button component. Defaults to "button".
# - card_button__attributes - array of attribute,value pairs for the button attribute.
# - card_button__modifiers - array of modifiers to add to the base classname of the button.
#}
{% set card__base_class = 'Card' %}
{% set card__extra_classes = ['FlexRow-item'] %}

<div {{ suit(card__base_class, card__modifiers, card__blockname, card__extra_classes) }}>
  {# Image #}
  {% block card__img %}
    {% if card_image__src %}
      <div {{ suit('image', card_content__modifiers, card__base_class, ['Zoom-image lozad']) }}
        data-background-image="{{ card_image__src }}"
        style="background: url(/web/themes/custom/msi/images/placeholders/placeholder.png) no-repeat center; background-size: cover;">
      </div>
    {% endif %}
  {% endblock %}
  {# Content #}
  <div {{ suit('content', card_content__modifiers, card__base_class) }}>
    {# Heading #}
    {% if card_heading %}
      {{ title_prefix }}
      {% include '@atoms/text/Heading/Heading.twig' with {
        heading__base_class: card_heading__base_class|default('heading'),
        heading__modifiers: card_heading__modifiers,
        heading__blockname: card__base_class,
        heading__level: 2,
        heading: card_heading,
        heading__url: card_heading__link|default(card_link__url),
        heading__link_base_class: card_heading__link_base_class|default('heading-link'),
        heading__link_blockname: card__base_class,
      } %}
      {{ title_suffix }}
    {% endif %}
    {# Subheading #}
    {% if card_subheading %}
      {% include '@atoms/text/Heading/Heading.twig' with {
        heading__base_class: card_subheading__base_class|default('subheading'),
        heading__modifiers: card_subheading__modifiers,
        heading__blockname: card__base_class,
        heading__level: 3,
        heading: card_subheading,
        heading__url: card_subheading__link,
      } %}
    {% endif %}
    {# Body #}
    {% if card_body %}
      {% include '@atoms/text/Paragraph.twig' with {
        paragraph__base_class: card_body__base_class|default('body'),
        paragraph__modifiers: card_body__modifiers,
        paragraph__blockname: card__base_class,
        paragraph__content: card_body,
      } %}
    {% endif %}
    {# Link #}
    {% if card__link__url %}
      {% include '@atoms/links/Link/Link.twig' with {
        link__base_class: card_link__base_class|default('link'),
        link__blockname: card__base_class,
        link__attributes: card_link__attributes,
        link__content: card_link__text,
        link__url: card_link__url,
      } %}
    {% endif %}
    {# Button #}
    {% if card__button__url %}
      {% include '@atoms/buttons/Button/Button.twig' with {
        button__base_class: card__button__base_class|default('button'),
        button__modifiers: card__button__modifiers,
        button__blockname: card__base_class,
        button__attributes: card_button__attributes,
        button__content: card_button__content,
        button__url: card_button__url,
      } %}
    {% endif %}
  </div>
</div>
